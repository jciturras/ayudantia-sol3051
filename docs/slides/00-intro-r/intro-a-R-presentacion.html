<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
  <head>
    <title>Introducción a R</title>
    <meta charset="utf-8" />
    <meta name="author" content="Julio César Iturra Sanhueza" />
    <meta name="date" content="2019-11-14" />
    <link href="libs/remark-css/default.css" rel="stylesheet" />
    <link href="libs/remark-css/rladies-fonts.css" rel="stylesheet" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# Introducción a R
### Julio César Iturra Sanhueza
### 2019-11-14

---




#Contenidos ayudantía

* ¿Qué es R?
* Interfaz de R-studio 
    - Consola
    - Sintáxis
    - Enviornment (objetos)
    
* Funciones básicas en R

* Uso de Bases de Datos  
    - Cargar una base de datos
    - Tipos de datos 
    - Descripción de datos
---
class: inverse, middle, center

#¿Qué es R?

---

##¿Qué es **_R_** ?

1. R es un software libre, por tanto es totalmente gratuito y abierto. Tiene una comunidad a nivel mundial muy activa, donde se comparte
todo tipo de contenido relacionado con el análisis de datos.

2. Es un lenguaje de programación, de modo que también es posible que los usuarios elaboren sus propias funciones o "paquetes".

3. Tiene una fuerte orientación al análisis estadístico y visualización de datos.

4. Una de sus principales características es que posee una lógica de programación orientada a **Objetos** (Object Oriented programming). Lo veremos en detalle más adelante. 

5. El editor nativo de R es poco amigable para los usuarios. Por lo tanto, lo más adecuado es emplear una **Interfaz de Usuario** (IDE por *Integrated development environment*) 
  * [**RStudio**](https://www.rstudio.com/) será la interfaz que utilizaremos en el curso.

---
## **R** es una gran calculadora

* Una de las características principales de R es que nos permite emplearlo como una "base" para realizar cálculos matemáticos simples, como también emplear funciones complejas a través de paquetes especializados.

* Al ser una plataforma abierta, es posible utilizar una infinidad de paquetes que otros usuarios han desarrollado. Los paquetes son grupos de funciones que usuarios han programado con algún objetivo, el cual queda abierto a la comunidad para su libre acceso. 

Aquí hay algunos ejemplos:


```r
1+1
```

```
## [1] 2
```


```r
(100+100)/4
```

```
## [1] 50
```
---
##Programación orientada a objetos

* El hecho de R tenga una "orientación a objetos" tiene varias ventajas.

1. Es posible "guardar" nuestros objetos, los cuales pueden ser números, palabras, resultados, funciones, etc.
2. Al tenerlos "guardados" los podemos "llamar" cuando sea necesario. 
3. El símbolo ` &lt;- ` permite indicarle a R que queremos "guardar" un objeto


```r
a &lt;- 100 #Guardamos 100 dentro del objeto a
b &lt;- 4   #Guardamos 4 dentro del objeto b
c &lt;- 1+1 #Guardamos el resultado de 1+1 en c
```


```r
print(a)
```

```
## [1] 100
```


```r
print(a*b) #multiplicando a x b
```

```
## [1] 400
```
---


```r
d &lt;- (a*a)/b #a x a dividido b
print(d)
```

```
## [1] 2500
```

```r
#O su versión abreviada:
d
```

```
## [1] 2500
```


```r
d^2 #Estamos elevando al cuadrado al objeto e
```

```
## [1] 6250000
```

---
class: inverse, middle, center

# RStudio 

---
#Interfaz de RStudio

RStudio se compone de varias partes, pero las más importarten son:


* **Sintaxis**: Es donde escribimos nuestro código

* **Consola**: Es donde podemos visualizar nuestros resultados 

* **Enviornment**: Es donde se "guardan" nuestros objetos 

* **Panel de visualización**: Aquí se visualizan nuestros gráficos y otro tipo de resultados.

---

class: middle, center

&lt;img src="rstudio.png" width="100%" style="display: block; margin: auto;" /&gt;
---
#Abrir una Base de datos:

* Para introducir datos en R es posible emplear distintas formas:

1. A través de comando para leer texto (read.txt, read.csv)
2. Empleando librerías complementarias con funcionalidades para importar bases provenientes de otros programas:


```r
install.packages("haven") #cargar .sav (SPSS)
library(haven) #Cargar la librería
```



Cargar una base de datos en .csv


```r
tt &lt;- read_sav("titanic.sav")
tt &lt;- read.csv("titanic.csv")
```




---
#Tipos de datos en R

* Numérico (numeric; números con decimales)
* Números enteros (integer)
* Lógicos: Verdadero o Falso
* Variables cadena o texto (string / character)
* Factores (factor): para variables cualitativas (nominales)

#Tipos de estructura de datos:

* Vector (vector) columna o fila de datos numéricos (una variable individual)
* Matrices (matrix): arreglo de dos dimenisones de datos numéricos (conjunto de variables)
* Data.frame (base de datos): Matriz de datos en el que las columnas tienen adignado nombres, y que permite usar todo tipo de datos.

&gt; Todos estos pueden ser tratados como objetos.

---
#Exploración de datos

&gt; `datos$variable`


```r
class(tt) #ver el tipo de datos 
class(tt$sex) #¿qué tipo de variable es sex?
class(tt$age) #¿qué tipo de variable es age?
class(tt$pclass) #¿qué tipo de variable es pclass?
str(tt) #Contenido y estructura de la base de datos
```

```
## [1] "data.frame"
## [1] "factor"
## [1] "numeric"
## [1] "factor"
## 'data.frame':	1046 obs. of  8 variables:
##  $ X       : int  1 2 3 4 5 6 7 8 9 10 ...
##  $ pclass  : Factor w/ 3 levels "Clase Alta","Clase Baja",..: 1 1 1 1 1 1 1 1 1 1 ...
##  $ survived: Factor w/ 2 levels "No sobrevive",..: 2 2 1 1 1 2 2 1 2 1 ...
##  $ name    : Factor w/ 1044 levels "Abbing, Mr. Anthony",..: 22 24 25 26 27 31 46 47 51 55 ...
##  $ sex     : Factor w/ 2 levels "Hombre","Mujer": 2 1 2 1 2 1 2 1 2 1 ...
##  $ age     : num  29 0.917 2 30 25 ...
##  $ sibsp   : int  0 1 1 1 1 0 1 0 2 0 ...
##  $ parch   : int  0 2 2 2 2 0 0 0 0 0 ...
```

---
#Describamos nuestros datos


```r
summary(tt$age) #Estadísticos descriptivos
```

```
##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##  0.1667 21.0000 28.0000 29.8811 39.0000 80.0000
```

```r
mean(tt$age) #Media de edad
```

```
## [1] 29.88113
```

```r
sd(tt$age) #desviación estándar de edad
```

```
## [1] 14.4135
```

```r
summary.factor(tt$sex) # ¿cuántos hombres y mujeres hay?
```

```
## Hombre  Mujer 
##    658    388
```

---

```r
summary.factor(tt$pclass) #Con summary también podemos ver un factor
```

```
##       Clase Alta       Clase Baja Clase Intermedia 
##              284              501              261
```

```r
table(tt$pclass) #Otra alternativa
```

```
## 
##       Clase Alta       Clase Baja Clase Intermedia 
##              284              501              261
```

```r
prop.table(table(tt$pclass)) #Vemos las proporciones
```

```
## 
##       Clase Alta       Clase Baja Clase Intermedia 
##        0.2715105        0.4789675        0.2495220
```

```r
table(tt$pclass, tt$sex) #tabla cruzada sexo y clase social
```

```
##                   
##                    Hombre Mujer
##   Clase Alta          151   133
##   Clase Baja          349   152
##   Clase Intermedia    158   103
```
---
#Algunos tips

* Para crear códigos es útil mantener buenas prácticas con el objetivo de que ustedes recuerden lo que han hecho, como también para que otras personas puedan comprender su trabajo.

1. Comentar código. En R se utiliza el símbolo **`#`** para crear comentarios
2. Utilizar secciones en el código, de modo que se sepa cuando comienza y termina un procedimiento.
3. Cuando realicen algún procedimiento más complejo, describirlo en detalle. 


```r
#Código de Julio Iturra -  jciturra@uc.cl
#Fecha: 17.10.2018

# Mi primera sección -------------------------------------------
#Creación de "a" en base a "b", b = 45
b &lt;- 45 #creamos b
a &lt;- b  #creamos a en base b

print(a) #comprobemos si "a" está OK
```

```
## [1] 45
```

---
class: center, middle

# Consultas al correo julioiturrasanhueza@gmail.com

Slides created via the R package [**xaringan**](https://github.com/yihui/xaringan),
 [**knitr**](http://yihui.name/knitr), y [R Markdown](https://rmarkdown.rstudio.com).
 
---
##Actividad

Empleando la base "titanic", realice algunos procedimientos de exploración y análisis de datos.

1. Observe el tipo de estructura de datos que está empleando.

1. En base a la base señalada, observe su "estructura" 

1. Observe qué tipo/clase de variable es: `sex`, `pclass`, `age` y `survived`
 
1. Según esto, determine cuál comando va emplear para describir las variables.

1. Explore gráficamente la variable `age` y `pclass`

1. Construya una tabla de contingencia (filas x columnas): 

&lt;center&gt; survived x pclass &lt;/center&gt;


---
#Base de datos 

| Nombre   	| Descripción                        	| Valores 	| Categorías       	|
|----------	|------------------------------------	|---------	|------------------	|
| pclass   	| Clase del pasajero/a               	| 1       	| Clase Alta       	|
|          	|                                    	| 2       	| Clase Intermedia 	|
|          	|                                    	| 3       	| Clase Baja       	|
| survived 	| Estatus sobrevivencia              	| 1       	| No sobrevive     	|
|          	|                                    	| 2       	| Sobrevive        	|
| name     	| Nombre                             	|         	|                  	|
| sex      	| Sexo pasajero/a                    	| 1       	| Hombre           	|
|          	|                                    	| 2       	| Mujer            	|
| age      	| Edad pasajero/a                    	|         	| rango: 0.2-80.0  	|
| sibsp    	| Número de parientes                	|         	| rango: 0-8       	|
| parch    	| Número de padres / niños a bordo   	|         	| rango: 0-9       	|
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();</script>

<script>
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
